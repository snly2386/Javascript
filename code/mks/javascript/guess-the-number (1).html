<html>
<head>
  <title>Guess the Number!</title>
</head>
<body>
<label>Pick a Number from 1-100</label>
<label>...Watch out for the landmines!</label>
<label id="response"></label>
<br />
<input id="user-input" type="text" />
<input id="submit-button" type="button" value="Guess" />
<input id="pa-button" type="button"value="Play Again?" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript">
  document.getElementById('pa-button').style.visibility='hidden'
  var startover = function() {
       secretNumber = parseInt(Math.random() * 100, 10) + 1;
       document.getElementById("pa-button").style.visibility="hidden"
       guess(input);
    }

  var secretNumber = parseInt(Math.random() * 100, 10) + 1;
  var landmines = [(parseInt(Math.random() * 100, 10) + 1),(parseInt(Math.random() * 100, 10) + 1), (parseInt(Math.random() * 100, 10) + 1)]
  var guess = function (input) {
  	 var answer = input
        for (var i =0; i < landmines.length; i++) {
            if (answer == landmines[i]) {
            alert("You stepped on a mine! Game Over!")
            document.getElementById("pa-button").style.visibility="visible"
            return;
          }
        }
  
       if (answer > secretNumber) {
          alert( "pick lower");
          var lowest = 100;
          for (var i = 0; i < landmines.length; i++) {
              var difference = Math.abs(answer - landmines[i])
              if (difference < lowest) {
              lowest = difference
          }
        
        }
          alert("You are " + lowest + " spaces away from a landmine!")
        
        
        } else if (answer < secretNumber) {
            alert("pick higher");
            var lowest = 100;

        for (var i = 0; i < landmines.length; i++) {
            var difference = Math.abs(answer - landmines[i])
              if (difference < lowest) {
              lowest = difference
          }
        
        }
          alert("You are " + lowest + " spaces away from a landmine!")

        
      } else {
          alert("Congratulations!");
          document.getElementById("pa-button").style.visibility="visible"
      }
    
    
}


$('#submit-button').on('click', function (e) {
  	var input = $('#user-input').val();
    $("#user-input").val("");
	guess(input);
});

$('#pa-button').on('click',function (e) {
  alert("A new game has started!");
  $('#user-input').val(""); 
  startover();

});


</script>

</body>
</html>
